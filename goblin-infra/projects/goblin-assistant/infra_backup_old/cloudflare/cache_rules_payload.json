{
  "rules": [
    {
      "action": "set_cache_settings",
      "action_parameters": {
        "cache": true,
        "edge_ttl": {
          "mode": "override_origin",
          "default": 31536000
        },
        "browser_ttl": {
          "mode": "override_origin",
          "default": 31536000
        }
      },
      "expression": "(http.request.uri.path matches \".*\\\\.(js|css|woff2?|ttf|eot|ico|svg|png|jpg|jpeg|webp|gif|mp4|webm)$\")",
      "description": "Static Assets - Immutable (1 year)",
      "enabled": true
    },
    {
      "action": "set_cache_settings",
      "action_parameters": {
        "cache": true,
        "edge_ttl": {
          "mode": "override_origin",
          "default": 31536000
        },
        "browser_ttl": {
          "mode": "override_origin",
          "default": 31536000
        }
      },
      "expression": "(http.request.uri.path matches \".*\\\\.[a-f0-9]{8,}\\\\.(js|css)$\")",
      "description": "Versioned Bundles - Immutable",
      "enabled": true
    },
    {
      "action": "set_cache_settings",
      "action_parameters": {
        "cache": true,
        "edge_ttl": {
          "mode": "override_origin",
          "default": 31536000
        },
        "browser_ttl": {
          "mode": "override_origin",
          "default": 31536000
        }
      },
      "expression": "(http.request.uri.path contains \"/assets/\" or http.request.uri.path contains \"/chunks/\" or http.request.uri.path contains \"/_next/static/\")",
      "description": "Build Chunks - Immutable",
      "enabled": true
    },
    {
      "action": "set_cache_settings",
      "action_parameters": {
        "cache": true,
        "edge_ttl": {
          "mode": "override_origin",
          "default": 31536000
        },
        "browser_ttl": {
          "mode": "override_origin",
          "default": 31536000
        }
      },
      "expression": "(http.request.uri.path contains \"/fonts/\")",
      "description": "Fonts - Immutable",
      "enabled": true
    },
    {
      "action": "set_cache_settings",
      "action_parameters": {
        "cache": true,
        "edge_ttl": {
          "mode": "override_origin",
          "default": 86400,
          "status_code_ttl": [
            {
              "status_code": 200,
              "value": 86400
            }
          ]
        },
        "browser_ttl": {
          "mode": "override_origin",
          "default": 86400
        },
        "serve_stale": {
          "disable_stale_while_updating": false
        }
      },
      "expression": "(http.request.uri.path contains \"/animations/\" or http.request.uri.path contains \"/effects/\" or http.request.uri.path contains \"/lottie/\")",
      "description": "Goblin Animations & Effects - 24h",
      "enabled": true
    },
    {
      "action": "set_cache_settings",
      "action_parameters": {
        "cache": true,
        "edge_ttl": {
          "mode": "override_origin",
          "default": 300
        },
        "browser_ttl": {
          "mode": "override_origin",
          "default": 300
        },
        "respect_strong_etags": true
      },
      "expression": "(http.request.uri.path eq \"/\" or http.request.uri.path matches \".*\\\\.html$\")",
      "description": "HTML Pages - 5min cache",
      "enabled": true
    }
  ]
}
